(()=>{var e={};e.id=636,e.ids=[636],e.modules={2352:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var o=r(8732),n=r(2015),a=r(6715),s=r.n(a),u=r(6653),c=r.n(u);r(1895),r(9660),r(9981),r(30);var i=r(8058),l=r(1793);let d=function({children:e}){let[t,r]=(0,n.useState)(!0),{checkIsLogged:a}=(0,i.Jd)(),{id_user:s}=(0,i.Py)(),{getCartItemsForDB:u}=(0,l._$)();return(0,o.jsx)(o.Fragment,{children:t?null:e})};s().events.on("routeChangeStart",()=>c().start()),s().events.on("routeChangeComplete",()=>{window.scrollTo(0,0),c().done()}),s().events.on("routeChangeError",()=>c().done());let y=({Component:e,pageProps:t})=>(0,o.jsx)(i.Ay,{children:(0,o.jsx)(l.Ay,{children:(0,o.jsx)(d,{children:(0,o.jsx)(e,{...t})})})})},8905:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(2906);!function(){var e=Error("Cannot find module '../config'");throw e.code="MODULE_NOT_FOUND",e}();let n=Object(function(){var e=Error("Cannot find module '../config'");throw e.code="MODULE_NOT_FOUND",e}()).baseUrl,a={};a.addToCart=async function({productId:e,userId:t,qty:r}){try{return await o.A.post(`${n}/cart/add-item`,{id_product:e,id_user:t,quantity:r},{token:!0})}catch({message:e}){return console.error("error adding to cart "+e),null}},a.getUserCartItems=async function(e,t=""){let r={...!t&&{token:!0},...t&&{headers:{authorization:`Bearer ${t}`}}};try{return await o.A.get(`${n}/cart/${e}`,r)}catch({message:e}){return console.error("error getting cart items "+e),null}},a.deleteItemFromCart=async function(e,t){try{return!!await o.A.delete(`${n}/cart/delete-item`,{id_user:e,id_product:t},{token:!0})}catch({message:e}){return console.error("error deleting item from cart",e),!1}};let s=a},2906:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(8938),n=r.n(o),a=r(8859);let s={},u=({headers:e,token:t,cancelToken:r})=>({headers:{...e,"Content-type":"application/json",...t&&{authorization:`Bearer ${(0,a.g)()}`}},...r&&{cancelToken:r}}),c=e=>{let{error:t,body:r,status:o}=e;if(t)throw console.error(`${r} 
status: ${o}`),Error(r);return r};s.get=async function(e,t={}){try{let{data:r}=await n().get(e,u(t));return c(r)}catch(e){throw console.error(e),Error(e.message)}},s.post=async function(e,t,r={}){try{let{data:o}=await n().post(e,t,u(r));return c(o)}catch(e){throw console.error(e),Error(e.message)}},s.put=async function(e,t,r={}){try{let{data:o}=await n().put(e,t,u(r));return c(o)}catch(e){throw console.error(e),Error(e.message)}},s.delete=async function(e,t={},r={}){try{let{data:o}=await n().delete(e,{...u(r),data:t});return c(o)}catch(e){throw console.error(e),Error(e.message)}};let i=s},1793:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>g,_$:()=>p,w:()=>f});var o=r(8732),n=r(2015);let a="add_to_cart",s="restore_cart",u="quit_one_cart",c="quit_item_cart",i="void_cart";function l(e,t){switch(t.type){case a:{let{itemId:r,item:o,quantity:n}=t.payload,a=n;return e[r]&&(a+=e[r].quantity),{...e,totalItemsQty:e.totalItemsQty+n,[r]:{...o,quantity:a}}}case s:{let{items:e,totalItemsQty:r}=t.payload;return{...e,totalItemsQty:r}}case u:{let{itemId:r}=t.payload,o={...e[r]}.quantity-1;if(o>0)return{...e,[r]:{...e[r],quantity:o}};return delete e[r],e}case c:{let{itemId:r}=t.payload,o=e[r].quantity;return delete e[r],{...e,totalItemsQty:e.totalItemsQty-o}}case i:return{totalItemsQty:0};default:return e}}var d=r(8905);let y=(0,n.createContext)(),m=(0,n.createContext)(),p=()=>{let e=(0,n.useContext)(m);function t(t){let r={};for(let e of t)r[e.id_product]=e;e({type:s,payload:{items:r,totalItemsQty:t.reduce((e,t)=>e+t.quantity,0)}})}async function r(e){if(e)try{let r=await d.A.getUserCartItems(e);r?.length&&t(r)}catch({message:e}){console.error("[error getting cart from DB] "+e)}}return{addCartItem:function(t,r,o){e({type:a,payload:{itemId:t,item:r,quantity:o}})},restoreCart:t,remove1QtyItem:function(t){e({type:u,payload:{itemId:t}})},removeItem:function(t){e({type:c,payload:{itemId:t}})},voidCart:function(){e({type:i})},getCartItemsForDB:r}},f=()=>(0,n.useContext)(y),g=({children:e})=>{let[t,r]=(0,n.useReducer)(l,{totalItemsQty:0});return(0,o.jsx)(y.Provider,{value:t,children:(0,o.jsx)(m.Provider,{value:r,children:e})})}},8058:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,Jd:()=>y,Py:()=>m});var o=r(8732),n=r(2015);let a="add_user_info",s="remove_user_info",u="update_money_user_info";function c(e={},t){switch(t.type){case a:return{...t.payload};case u:return{...e,money:t.money};case s:return{};default:return e}}var i=r(0);let l=(0,n.createContext)(),d=(0,n.createContext)(),y=()=>{let e=(0,n.useContext)(l),t=(0,n.useContext)(d);function r(r){0===Object.keys(e).length&&(0,i.sq)("userInfo",r),t({type:a,payload:r})}return{checkIsLogged:function(){if(0===Object.keys(e).length){let e=(0,i.s2)("userInfo");return!!e&&(r(e),!0)}return!0},saveUserInfo:r,removeUserInfo:function(){(0,i.dW)("userInfo"),t({type:s})},updateMoney:function(e){let r=(0,i.s2)("userInfo"),o=parseInt(r.money)+e;r.money=o,(0,i.sq)("userInfo",r),t({type:u,money:o})}}},m=()=>(0,n.useContext)(l),p=({children:e})=>{let[t,r]=(0,n.useReducer)(c,{});return(0,o.jsx)(l.Provider,{value:t,children:(0,o.jsx)(d.Provider,{value:r,children:e})})}},0:(e,t,r)=>{"use strict";r.d(t,{dW:()=>a,s2:()=>n,sq:()=>o});let o=(e,t={})=>{let r=JSON.stringify(t);localStorage.setItem(e,r)},n=e=>{let t=localStorage.getItem(e);return t?JSON.parse(t):null},a=(e="")=>{e?localStorage.removeItem(e):localStorage.clear()}},8859:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,g:()=>o});let o=()=>localStorage.getItem("token")||"",n=e=>localStorage.setItem("token",e)},30:()=>{},8938:e=>{"use strict";e.exports=require("axios")},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6653:e=>{"use strict";e.exports=require("nprogress")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},7910:e=>{"use strict";e.exports=require("stream")},4075:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[585,928],()=>r(2352));module.exports=o})();